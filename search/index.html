<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suche</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>

    <header class="top-banner">
        <a href="../index.html">
            <img src="../images/logo.png" alt="Dokumentation Logo">
        </a>
    </header>

    <main>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Suchen nach Themen oder Stichwörtern..." autocomplete="off">
        </div>
        <div id="resultsContainer" class="topic-list">
            <p class="search-prompt">Beginnen Sie zu tippen, um die Dokumentation zu durchsuchen.</p>
        </div>
    </main>

    <nav class="bottom-nav">
        <a href="../index.html" class="nav-item">
            <img src="../images/home.png" alt="Startseite">
        </a>
        <a href="../search/index.html" class="nav-item active"> <!-- 'active' Klasse hier -->
            <img src="../images/search.png" alt="Suche">
        </a>
        <a href="../profile/index.html" class="nav-item">
            <img src="../images/profil.png" alt="Profil">
        </a>
    </nav>

<script>
    // Definiert die durchsuchbaren Seiten und ihre Schlüsselwörter
    const searchData = [
        {
            url: '../teachable_machine/index.html',
            title: 'Teachable Machine',
            image: '../images/wasserglas.jpeg', // Bildpfad hinzugefügt
            keywords: ['teachable machine', 'wasserglas', 'ki', 'künstliche intelligenz', 'bilderkennung', 'google', 'p5.js', 'user experience', 'user interface', 'ux', 'ui', 'optimistisch', 'pessimistisch', 'glas halb voll', 'glas halb leer']
        },
        {
            url: '../nature_of_code/index.html',
            title: 'Nature of Code',
            image: '../images/wattwurmhaufen.jpeg', // Bildpfad hinzugefügt
            keywords: ['nature of code', 'wattwurmhaufen', 'p5.js', 'simulation', 'generativ', 'code', 'daniel shiffman', 'natürliche muster', 'verhaltensweisen', 'amrum', 'wattwürmer']
        },
        {
            url: '../text_the_universal_interface/index.html',
            title: 'Text, the Universal Interface',
            image: '../images/unterschrift.jpeg', // Bildpfad hinzugefügt
            keywords: ['text', 'universal interface', 'unterschrift', 'interface', 'natural user interface', 'grafische benutzeroberfläche', 'textbasiert', 'command line interface', 'textschnittstelle', 'grafikdesign', 'ux', 'ui', 'user experience', 'user interface']
        },
        {
            url: '../generative_graphic_novel/index.html',
            title: 'Generative Graphic Novel',
            image: '../images/baum.jpeg', // Bildpfad hinzugefügt
            keywords: ['generative', 'graphic novel', 'storytelling', 'illustration', 'ki', 'künstliche intelligenz', 'midjourney', 'webseite', 'website', 'html', 'css', 'gruppenarbeit', 'collaboration', 'form', 'farbe', 'typografie', 'bewegung', 'interaktion']
        },
        {
            url: '../debate_club/index.html',
            title: 'Debate Club',
            image: '../images/debate.jpeg', // Bildpfad hinzugefügt
            keywords: ['debate', 'discussion', 'argumentation', 'persuasion', 'rhetoric', 'ki', 'künstliche intelligenz', 'agi', 'artificial general intelligence', 'ethics', 'chancen', 'risiken', 'zukunft', 'gesellschaft', 'technologie', 'digitalisierung']
        },
        {
            url: '../general_reflection/index.html',
            title: 'General Reflection',
            image: '../images/reflexion.jpeg', // Bildpfad hinzugefügt
            keywords: ['reflection', 'self-assessment', 'feedback', 'improvement', 'learning', 'digital fundamentals', 'digitale grundlagen', 'semester review', 'ki', 'künstliche intelligenz', 'web design', 'html', 'css', 'javascript', 'p5.js', 'ux', 'ui', 'user experience', 'user interface']
        }

    ];

const searchInput = document.getElementById('searchInput');
    const resultsContainer = document.getElementById('resultsContainer');

    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase().trim();
        resultsContainer.innerHTML = ''; // Ergebnisse bei jeder Eingabe löschen

        if (searchTerm.length === 0) {
            resultsContainer.innerHTML = '<p class="search-prompt">Beginnen Sie zu tippen, um die Dokumentation zu durchsuchen.</p>';
            return;
        }

        const filteredResults = searchData.filter(item => 
            item.keywords.some(keyword => keyword.toLowerCase().includes(searchTerm)) ||
            item.title.toLowerCase().includes(searchTerm)
        );

        if (filteredResults.length > 0) {
            filteredResults.forEach(result => {
                const resultLink = document.createElement('a');
                // HIER IST DIE ÄNDERUNG: Der Suchbegriff wird an die URL angehängt
                resultLink.href = `${result.url}?highlight=${encodeURIComponent(searchTerm)}`;
                resultLink.className = 'topic-item';
                // Das Bild wird jetzt auch in den Suchergebnissen angezeigt
                resultLink.innerHTML = `
                    <img src="${result.image}" alt="${result.title}">
                    <span>${result.title}</span>
                `;
                resultsContainer.appendChild(resultLink);
            });
        } else {
            resultsContainer.innerHTML = '<p class="search-prompt">Keine Ergebnisse gefunden.</p>';
        }
    });
</script>

</body>
</html>